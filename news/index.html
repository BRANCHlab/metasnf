<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • metasnf</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="google-site-verification" content="Xzz1SIDqvPwru_mXKCXAkX2pNfOz5PO_QO02QG98tZI"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metasnf</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/a_simple_example.html">A Simple Example</a></li>
    <li><a class="dropdown-item" href="../articles/a_complete_example.html">A Complete Example</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BRANCHlab/metasnf/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/BRANCHlab/metasnf/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.3" id="metasnf-203">metasnf 2.0.3<a class="anchor" aria-label="anchor" href="#metasnf-203"></a></h2>
<ul><li>bugfix: <code>estimate_nclust_given_graph</code> has more resiliency to floating point errors through tryCatch loop updating eigenvalue scaling</li>
<li>added functions: added <code>dplyr_row_slice()</code> functions for classes <code>solutions_df</code> and <code>ext_solutions_df</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.2" id="metasnf-202">metasnf 2.0.2<a class="anchor" aria-label="anchor" href="#metasnf-202"></a></h2>
<div class="section level3">
<h3 id="formatting-2-0-2">Formatting<a class="anchor" aria-label="anchor" href="#formatting-2-0-2"></a></h3>
<ul><li>removed debugging dash lines from <code><a href="../reference/extend_solutions.html">extend_solutions()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.1" id="metasnf-201">metasnf 2.0.1<a class="anchor" aria-label="anchor" href="#metasnf-201"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-2-0-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-1"></a></h3>
<ul><li>
<code>extend_solutions</code> was not assigning feature types properly during p-value calculations</li>
<li>
<code>rbind.ext_solutions_df</code> now takes <code>...</code> parameter before <code>reset_indices</code> parameter to avoid error during calls with unnamed parameters.</li>
<li>
<code>rbind.solutions_df</code> now takes <code>...</code> parameter before <code>reset_indices</code> parameter to avoid error during call without named parameters.</li>
<li>slicing <code>snf_config</code> object made weights matrix lose its class</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="metasnf-200">metasnf 2.0.0<a class="anchor" aria-label="anchor" href="#metasnf-200"></a></h2><p class="text-muted">CRAN release: 2025-02-04</p>
<div class="section level3">
<h3 id="breaking-changes-2-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-0-0"></a></h3>
<ul><li>Extensive changes as a result of a transition to making use of R’s S3 OOP system.</li>
</ul><div class="section level4">
<h4 id="name-changes-and-new-classes-2-0-0">Name changes and new classes<a class="anchor" aria-label="anchor" href="#name-changes-and-new-classes-2-0-0"></a></h4>
<ul><li>data list (class <code>list</code>) -&gt; (class <code>data_list</code>, <code>list</code>)</li>
<li>solutions matrix (class <code>data.frame</code>) -&gt; solutions data frame (class <code>solutions_df</code>, <code>data.frame</code>)</li>
<li>extended solutions matrix (class <code>data.frame</code>) -&gt; extended solutions data frame (class <code>ext_solutions_df</code>, <code>data.frame</code>)</li>
<li>settings matrix -&gt; settings data frame (class <code>data.frame</code>) -&gt; (class <code>ext_solutions_df</code>, <code>data.frame</code>)</li>
<li>distance metrics list (class <code>list</code>) -&gt; distance functions list (class <code>dist_fns_list</code>, <code>list</code>)</li>
<li>clustering algorithms list (class <code>list</code>) -&gt; clustering functions list (class <code>clust_fns_list</code>, <code>list</code>)</li>
<li>weights matrix (class <code>matrix</code>, <code>array</code>) -&gt; (class <code>weights_matrix</code>, <code>matrix</code>, <code>array</code>)</li>
</ul></div>
<div class="section level4">
<h4 id="function-changes-2-0-0">Function changes<a class="anchor" aria-label="anchor" href="#function-changes-2-0-0"></a></h4>
<ul><li>
<code>generate_data_list()</code> -&gt; <code><a href="../reference/data_list.html">data_list()</a></code>
</li>
<li>Functions related to converting a solutions matrix into a data frame of cluster solutions (<code><a href="../reference/get_cluster_df.html">get_cluster_df()</a></code>, <code><a href="../reference/get_clusters.html">get_clusters()</a></code>, <code><a href="../reference/get_cluster_solutions.html">get_cluster_solutions()</a></code>) now all superseded by custom transposition of <code>solutions_df</code> class objects (i.e., simply call <code><a href="https://rdrr.io/r/base/t.html" class="external-link">t()</a></code>)</li>
</ul></div>
<div class="section level4">
<h4 id="workflow-changes-2-0-0">Workflow changes<a class="anchor" aria-label="anchor" href="#workflow-changes-2-0-0"></a></h4>
<ul><li>Functionality offered by the settings matrix, distance metrics list, clustering algorithms list, weights matrix, and corresponding functions (<code><a href="../reference/generate_settings_matrix.html">generate_settings_matrix()</a></code>, <code><a href="../reference/generate_distance_metrics_list.html">generate_distance_metrics_list()</a></code>, <code>generate_weights_matrix()</code>, <code><a href="../reference/generate_clust_algs_list.html">generate_clust_algs_list()</a></code>) now all superseded by single function <code><a href="../reference/snf_config.html">snf_config()</a></code> and the <code>snf_config</code> class object it produces</li>
<li>Following derivation of a <code>split_vector</code>, either by <code><a href="../reference/adjusted_rand_index_heatmap.html">adjusted_rand_index_heatmap()</a></code> or <code><a href="../reference/shiny_annotator.html">shiny_annotator()</a></code>, <code>solutions_df</code> and <code>ext_solutions_df</code> class objects can be annotated with their meta cluster labels using the function <code><a href="../reference/label_meta_clusters.html">label_meta_clusters()</a></code>. This is necessary prior to usage of <code><a href="../reference/get_representative_solutions.html">get_representative_solutions()</a></code>.</li>
<li>Functions that convert non-data frame objects, like a data list, to a data frame, have been replaced with <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code>
</li>
<li>Requesting similarity matrices are returned during <code>batch_snf</code> no longer changes the output structure from a solutions data frame to a list of a solutions data frame and a similarity matrix list. Instead, the similarity matrix list is added to the solutions data frame as an attribute and can be extracted using the function <code><a href="../reference/sim_mats_list.html">sim_mats_list()</a></code>.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-2-0-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-2-0-0"></a></h4>
<ul><li>Significant speed improvement to <code><a href="../reference/calculate_coclustering.html">calculate_coclustering()</a></code> function</li>
<li>The p-value heatmap now follows a uni-color palette.</li>
<li>Customized <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> functions have been defined for all major metasnf objects.</li>
<li>Examples have been added to all major metasnf functions.</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.2" id="metasnf-112">metasnf 1.1.2<a class="anchor" aria-label="anchor" href="#metasnf-112"></a></h2><p class="text-muted">CRAN release: 2024-11-08</p>
<ul><li>update settings matrix vignette to avoid convergence error on some seeds</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="metasnf-111">metasnf 1.1.1<a class="anchor" aria-label="anchor" href="#metasnf-111"></a></h2><p class="text-muted">CRAN release: 2024-11-08</p>
<ul><li>inclusion column bugfixes from 1.1.0</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="metasnf-110">metasnf 1.1.0<a class="anchor" aria-label="anchor" href="#metasnf-110"></a></h2>
<ul><li>Verbose parameter added to printing functions. By default set to FALSE.</li>
<li>CRAN compliant <a href="https://github.com/return" class="external-link">@return</a> values in documentation.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="metasnf-100">metasnf 1.0.0<a class="anchor" aria-label="anchor" href="#metasnf-100"></a></h2>
<p>Last update before CRAN submission.</p>
<div class="section level3">
<h3 id="breaking-changes-1-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-0"></a></h3>
<ul><li>Changing seed during settings matrix generation has been deprecated. Please manually call <code>set.seed</code> prior to <code>generate_settings_matrix</code> instead.</li>
</ul></div>
<div class="section level3">
<h3 id="other-1-0-0">Other<a class="anchor" aria-label="anchor" href="#other-1-0-0"></a></h3>
<ul><li>Package size reduced by downscaling vignette images</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="metasnf-072">metasnf 0.7.2<a class="anchor" aria-label="anchor" href="#metasnf-072"></a></h2>
<div class="section level3">
<h3 id="bug-fix-0-7-2">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-7-2"></a></h3>
<ul><li>Function <code><a href="../reference/estimate_nclust_given_graph.html">estimate_nclust_given_graph()</a></code> occasionally yielded incorrect number of cluster estimates as a result of improper scaling in metasnf v0.7.0. The scaling should be corrected now.</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-7-2">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-7-2"></a></h3>
<ul><li>Considerable changes have been made to the co-clustering workflow, including new heatmap and density plot.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="metasnf-071">metasnf 0.7.1<a class="anchor" aria-label="anchor" href="#metasnf-071"></a></h2>
<div class="section level3">
<h3 id="possible-breaking-changes-0-7-1">Possible breaking changes<a class="anchor" aria-label="anchor" href="#possible-breaking-changes-0-7-1"></a></h3>
<ul><li>Occasionally, spectral clustering results may yield an n-cluster solution where n differed from the number of clusters requested as a parameter in the spectral clustering function itself. Now, the spectral clustering functions provided in metasnf have been updated to report the actual number of clusters in the generated solution, rather than the number of clusters that was requested</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="metasnf-070">metasnf 0.7.0<a class="anchor" aria-label="anchor" href="#metasnf-070"></a></h2>
<div class="section level3">
<h3 id="minor-changes-0-7-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-7-0"></a></h3>
<ul><li>warnings provided when generating a data list with duplicate feature names</li>
<li>warnings provided when using <code><a href="../reference/mc_manhattan_plot.html">mc_manhattan_plot()</a></code> with a data list containing duplicate feature names</li>
<li>
<code><a href="../reference/mc_manhattan_plot.html">mc_manhattan_plot()</a></code> parameter <code>rep_solution</code> replaced with more accurate name <code>extended_solutions_matrix</code> (solutions matrix with _pval columns)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fix-0-7-0">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-7-0"></a></h3>
<ul><li>
<code><a href="https://rdrr.io/pkg/SNFtool/man/estimateNumberOfClustersGivenGraph.html" class="external-link">SNFtool::estimateNumberOfClustersGivenGraph()</a></code> could occasionally error out on the basis of calculating eigenvectors (eigengap heuristic) for a Laplacian with floating point values that were too small. Adapted function <code><a href="../reference/estimate_nclust_given_graph.html">estimate_nclust_given_graph()</a></code> slightly scales up Laplacian to reduce the risk of encountering this error (presumably without any change to resulting cluster number estimate)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.8" id="metasnf-068">metasnf 0.6.8<a class="anchor" aria-label="anchor" href="#metasnf-068"></a></h2>
<div class="section level3">
<h3 id="new-functionality-0-6-8">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-6-8"></a></h3>
<ul><li>
<code>get_matrix_order</code> has arguments allowing users to control which distance metric and agglomerative hierarchical clustering methods are used to sort matrices</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.7" id="metasnf-067">metasnf 0.6.7<a class="anchor" aria-label="anchor" href="#metasnf-067"></a></h2>
<div class="section level3">
<h3 id="minor-changes-0-6-7">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-6-7"></a></h3>
<ul><li>More consistent usage of “feature” over “variable” across documentation.</li>
<li>New mock ABCD dataframes - like the old ones, but without the “abcd_” prefix and with a more accurate “unique_id” UID column rather than “patient”</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.6" id="metasnf-066">metasnf 0.6.6<a class="anchor" aria-label="anchor" href="#metasnf-066"></a></h2>
<div class="section level3">
<h3 id="new-functionality-0-6-6">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-6-6"></a></h3>
<ul><li>
<code>get_complete_uids</code> quickly pulls UIDs of observations with complete data from a list of dataframes</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.5" id="metasnf-065">metasnf 0.6.5<a class="anchor" aria-label="anchor" href="#metasnf-065"></a></h2>
<div class="section level3">
<h3 id="bug-fix-0-6-5">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-6-5"></a></h3>
<ul><li>
<code>extend_solutions</code> doesn’t crash on multi-feature target lists</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.4" id="metasnf-064">metasnf 0.6.4<a class="anchor" aria-label="anchor" href="#metasnf-064"></a></h2>
<div class="section level3">
<h3 id="minor-changes-0-6-4">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-6-4"></a></h3>
<ul><li>Warning message provided when subjects are dropped during <code>generate_data_list()</code>
</li>
<li>New <code>remove_missing</code> parameter for <code>generate_data_list</code> allowing subjects with incomplete data to remain in the data list</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.3" id="metasnf-063">metasnf 0.6.3<a class="anchor" aria-label="anchor" href="#metasnf-063"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-6-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-3"></a></h3>
<ul><li>ensure cluster variable is treated as factor during autoplotting</li>
<li>bugfix on autoplots built from tibbles rather than dataframes</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-6-3">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-6-3"></a></h3>
<ul><li>Added clarity to <code>lp_solutions_matrix</code> error message when training set is not subset of full data list</li>
<li>
<code>generate_data_list</code> list elements now are named after their components</li>
<li>added heatmap parameters to increase plotting flexibility</li>
</ul></div>
<div class="section level3">
<h3 id="new-functionality-0-6-3">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-6-3"></a></h3>
<ul><li>added generic save_plot function and option to pass cluster_df directly into auto_plot (useful for label propagation)</li>
<li>add <code>merge_data_lists</code> functionality to horizontally merge data lists</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.2" id="metasnf-062">metasnf 0.6.2<a class="anchor" aria-label="anchor" href="#metasnf-062"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-6-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-2"></a></h3>
<ul><li>
<code><a href="../reference/extend_solutions.html">extend_solutions()</a></code> will no longer crash when a data_list has the UID column in non-first position.</li>
<li>
<code>generate_data_list()</code> enforces the UID column to be in first position of each dataframe.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="metasnf-061">metasnf 0.6.1<a class="anchor" aria-label="anchor" href="#metasnf-061"></a></h2>
<div class="section level3">
<h3 id="new-functionality-0-6-1">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-6-1"></a></h3>
<ul><li>
<code><a href="../reference/auto_plot.html">auto_plot()</a></code> will automatically generate bar and/or jitter plots showing how features in a data_list/target_list are distributed across a single cluster solution</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="metasnf-060">metasnf 0.6.0<a class="anchor" aria-label="anchor" href="#metasnf-060"></a></h2>
<div class="section level3">
<h3 id="new-functionality-0-6-0">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-6-0"></a></h3>
<ul><li>
<code><a href="../reference/shiny_annotator.html">shiny_annotator()</a></code> function can be used to identify indices of meta clusters within an <code>adjusted_rand_index_heatmap</code>
</li>
<li>
<code><a href="../reference/adjusted_rand_index_heatmap.html">adjusted_rand_index_heatmap()</a></code> now has a <code>split_vector</code> parameter that will slice a heatmap into meta clusters</li>
<li>
<code><a href="../reference/rename_dl.html">rename_dl()</a></code> can be used to rename features in a data_list</li>
<li>
<code>manhattan_plot</code> has been split into <code>var_manhattan_plot</code> (key variable - all variables), <code>esm_manhattan_plot</code> (cluster solutions in an extended solutions matrix to all variables), and <code>mc_manhattan_plot</code> (like <code>esm_manhattan_plot</code>, but at the meta-cluster level)</li>
<li>
<code>get_representative_solutions</code> extracts max-ARI solutions from an extended solutions matrix based on a <code>split_vector</code> containing meta cluster boundaries</li>
<li>
<code>batch_nmi</code> calculates NMI scores (see <a href="https://branchlab.github.io/metasnf/articles/nmi_scores.html" class="uri">https://branchlab.github.io/metasnf/articles/nmi_scores.html</a>)</li>
<li>
<code>extend_solutions</code> will only calculate p-value summary measures (min/max/mean) for data_list passed in as a <code>target_list</code> parameter, but will also accept and calculate p-values for a data_list passed in through the <code>data_list</code> parameter</li>
<li>heatmap function <code>adjusted_rand_index_heatmap</code> and <code>assoc_pval_heatmap</code> have updated parameters to improve ease of use and flexibility (including easier colour control)</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-functions-0-6-0">Deprecated functions<a class="anchor" aria-label="anchor" href="#deprecated-functions-0-6-0"></a></h3>
<ul><li>
<code>get_clustered_subs</code> has been removed (does the same thing as <code>get_cluster_df</code>)</li>
<li>
<code>get_cluster_pval</code> deprecated for <code>calc_assoc_pval</code>
</li>
<li>All functions related to target_lists specifically have been deprecated in favour of simply using <code>generate_data_list()</code> and its corresponding functions</li>
</ul></div>
<div class="section level3">
<h3 id="name-changes-0-6-0">Name changes<a class="anchor" aria-label="anchor" href="#name-changes-0-6-0"></a></h3>
<ul><li>
<code>remove_signal</code> has been renamed to <code>linear_adjust</code> to better reflect its function</li>
<li>
<code>summarize_distance_metrics_list</code> has been shortened to <code>summarize_dml</code>
</li>
<li>
<code>correlation_pval_heatmap</code> has been renamed to <code>assoc_pval_heatmap</code>
</li>
<li>
<code>calc_om_aris</code> has been renamed to <code>calc_aris</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="new-vignettes-0-6-0">New vignettes<a class="anchor" aria-label="anchor" href="#new-vignettes-0-6-0"></a></h3>
<ul><li>NMI scores: <a href="https://branchlab.github.io/metasnf/articles/nmi_scores.html" class="uri">https://branchlab.github.io/metasnf/articles/nmi_scores.html</a>
</li>
<li>Imputations: <a href="https://branchlab.github.io/metasnf/articles/imputations.html" class="uri">https://branchlab.github.io/metasnf/articles/imputations.html</a>
</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-6-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-6-0"></a></h3>
<ul><li>Vignettes have been updated</li>
<li>Warnings are raised if spectral clustering does not generate a cluster solution matching the number of clusters requested</li>
<li>Chi-squared and <code>extend_solutions</code> p-value calculation warnings are now suppressed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="metasnf-050">metasnf 0.5.0<a class="anchor" aria-label="anchor" href="#metasnf-050"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-5-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-5-0"></a></h3>
<ul><li>All variables and values referencing p-values have been rephrased to end in <code>_pval</code> instead of a mix of <code>p_val</code>, <code>pval</code>, and <code>p</code>.</li>
<li>Removal of deprecated functions <code>pval_select</code>, <code>p_val_select</code>, <code>top_oms_per_cluster</code>, <code>check_subj_orders_for_lp</code>, <code>get_p</code>, <code>chi_sq_pval</code>,</li>
<li>Function <code>pval_summaries</code>, which would calculate min/max/mean p-values, has been replaced with <code>summarize_pvals</code>
</li>
<li>
<code>train_test_assign</code> now provides results as named list of subject vectors instead of a data.frame. <code>keep_split</code> function has been removed accordingly.</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-5-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-5-0"></a></h3>
<ul><li>
<code>sort_subjects</code> parameter added to <code>generate_data_list</code> to allow for sorting of subjects in the data_list</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.6" id="metasnf-046">metasnf 0.4.6<a class="anchor" aria-label="anchor" href="#metasnf-046"></a></h2>
<ul><li>fix bug in extend_solutions that incorrectly assigns p-values to variable columns through grep (substring instead of exact match)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.5" id="metasnf-045">metasnf 0.4.5<a class="anchor" aria-label="anchor" href="#metasnf-045"></a></h2>
<ul><li>
<code>extend_solutions</code> can now also be parallelized (see ?extend_solutions)</li>
<li>
<code>remove_signal</code> function has <code>sig_digs</code> parameter that can be used to restrict how many significant figures are returned in the resulting residuals</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.4" id="metasnf-044">metasnf 0.4.4<a class="anchor" aria-label="anchor" href="#metasnf-044"></a></h2>
<ul><li>
<code>calc_om_aris</code> is now MUCH faster after removing excessive calls to <code>as.numeric</code> and enabling parallel processing with <code>future.apply</code>. Thanks for the idea, Alper.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.3" id="metasnf-043">metasnf 0.4.3<a class="anchor" aria-label="anchor" href="#metasnf-043"></a></h2>
<ul><li>Reformatting of <code>extend_solutions</code> to better handle extreme p-values (e.g. infinity)</li>
<li>Replacement of <code>p_val_select</code> with <code>pval_select</code> which can also return negative-log p-values</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.2" id="metasnf-042">metasnf 0.4.2<a class="anchor" aria-label="anchor" href="#metasnf-042"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-4-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-2"></a></h3>
<ul><li>
<code>generate_data_list</code> correctly errors when components are only partially named (resolves <a href="https://github.com/BRANCHlab/metasnf/issues/10" class="external-link uri">https://github.com/BRANCHlab/metasnf/issues/10</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="metasnf-041">metasnf 0.4.1<a class="anchor" aria-label="anchor" href="#metasnf-041"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-4-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-4-1"></a></h3>
<ul><li>
<code>lp_row</code> function has been replaced by <code>lp_solutions_matrix</code>. The new function is order agnostic: full data lists can be constructed without any restriction on how training and testing set subjects are sorted. Subjects present in the provided solutions matrix to propagate are assumed to be the training subjects.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functionality-0-4-1">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-4-1"></a></h3>
<ul><li>
<code>calc_om_aris</code> now has <code>progress</code> parameter. When set to true and used in conjunction with <code><a href="https://progressr.futureverse.org/reference/with_progress.html" class="external-link">progressr::with_progress()</a></code>, a progress bar is shown for the calculations. Learn more with <code>?calc_om_aris</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-4-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-1"></a></h3>
<ul><li>
<code>grepl</code> instead of <code>grep</code> used in <code>extend_solutions</code> to reduce errors when no chi-squared warning occurs</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-4-1">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-4-1"></a></h3>
<ul><li>A vignette specifically for label propagation has been added</li>
<li>Full removal of several previously deprecated functions</li>
<li>Minor source code reformatting</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="metasnf-040">metasnf 0.4.0<a class="anchor" aria-label="anchor" href="#metasnf-040"></a></h2>
<div class="section level3">
<h3 id="new-functionality-0-4-0">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-4-0"></a></h3>
<ul><li>Parallel processing is now available! Check out the vignette here: <a href="https://branchlab.github.io/metasnf/articles/parallel_processing.html" class="uri">https://branchlab.github.io/metasnf/articles/parallel_processing.html</a>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3" id="metasnf-033">metasnf 0.3.3<a class="anchor" aria-label="anchor" href="#metasnf-033"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-3-3">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-3"></a></h3>
<ul><li>input_wt and domain_wt are removed from settings_matrix and rest of package - weighting at this level is no longer planned. This will result in altered settings matrices, but only superficially - the columns “input_wt” and “domain_wt” will be missing, but had no effect on the SNF prior to this patch anyway.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2" id="metasnf-032">metasnf 0.3.2<a class="anchor" aria-label="anchor" href="#metasnf-032"></a></h2>
<ul><li>
<code>keep_split</code> will preserve observations who were assigned a split but were not present in the dataframe being split. Instead of being removed, those observations will have NA values.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="metasnf-031">metasnf 0.3.1<a class="anchor" aria-label="anchor" href="#metasnf-031"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-3-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-1"></a></h3>
<ul><li>fixed <code>fraction_clustered_together</code> crashing when a cluster was assigned to only a single observation</li>
<li>fixed <code>fraction_clustered_together</code> not running due to bracket typo when evaluating length of the data_list</li>
</ul></div>
<div class="section level3">
<h3 id="new-functionality-0-3-1">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-3-1"></a></h3>
<ul><li>
<code>correlation_pval_heatmap</code> function can have significance stars disabled with <code>significance_stars</code> parameter</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-3-1">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-3-1"></a></h3>
<ul><li>pkgdown site now has google site verification code</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="metasnf-030">metasnf 0.3.0<a class="anchor" aria-label="anchor" href="#metasnf-030"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-3-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-0"></a></h3>
<ul><li>The original SNFtool function <code>estimateNumberOfClustersGivenGraph</code> has been used up to this point without specifying a parameter for <code>NUMC</code>. Consequently, final similarity matrices clustered with the default methods (spectral clustering based on eigen-gap or rotation cost heuristics) were not capable of resulting in more than 5 clusters. The default functions have been updated to span 2 clusters to 10 clusters. Users will likely see different clustering results as a result of this change. To replicate the behaviour of default spectral clustering prior to v0.3.0, users should copy the following code prior to the batch_snf command:</li>
</ul><pre><code><span><span class="va">clust_algs_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_clust_algs_list.html">generate_clust_algs_list</a></span><span class="op">(</span></span>
<span>    <span class="st">"spectral_eigen"</span> <span class="op">=</span> <span class="va">spectral_eigen_classic</span>,</span>
<span>    <span class="st">"spectral_rot"</span> <span class="op">=</span> <span class="va">spectral_rot_classic</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Adapt below as necessary</span></span>
<span><span class="va">solutions_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/batch_snf.html">batch_snf</a></span><span class="op">(</span></span>
<span>    <span class="va">data_list</span>,</span>
<span>    <span class="va">settings_matrix</span>,</span>
<span>    clust_algs_list <span class="op">=</span> <span class="va">clust_algs_list</span></span>
<span><span class="op">)</span></span></code></pre>
<ul><li>Added “workspace=2e7” parameter to <code>fisher_exact_pval</code> function to avoid “FEXACT” error (like here <a href="https://github.com/Lagkouvardos/Rhea/issues/17" class="external-link uri">https://github.com/Lagkouvardos/Rhea/issues/17</a>). Impact on results is expected to be negligible.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functionality-0-3-0">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-0-3-0"></a></h3>
<ul><li>Function <code>remove_signal()</code> enables correcting a data_list linearly for confounders / unwanted signal. Vignette is available: <a href="https://branchlab.github.io/metasnf/articles/confounders.html">https://branchlab.github.io/metasnf/articles/confounders.html</a>.</li>
<li>
<code><a href="../reference/batch_snf.html">batch_snf()</a></code> has new parameter <code>automatic_standard_normalize</code> to switch out the default numeric distance measures (euclidean) with standard normalized variants.</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-3-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-3-0"></a></h3>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Prashanth S Velayudhan, Xiaoqiao Xu, Prajkta Kallurkar, Ana Patricia Balbon, Maria T Secara, Adam Taback, Denise Sabac, Nicholas Chan, Shihao Ma, Bo Wang, Daniel Felsky, Stephanie H Ameis, Brian Cox, Colin Hawco, Lauren Erdman, Anne L Wheeler.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

