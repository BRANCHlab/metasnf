<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Build a distance metrics list — dist_fns_list • metasnf</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build a distance metrics list — dist_fns_list"><meta name="description" content="The distance metrics list object (inherits classes dist_fns_list
and list) is a list that stores R functions which can convert a data
frame of features into a matrix of pairwise distances. The list is a nested
one, where the first layer of the list can hold up to 5 items (one for each
of the metasnf recognized feature types, continuous, discrete, ordinal,
categorical, and mixed), and the second layer can hold an arbitrary number
of distance functions for each of those types."><meta property="og:description" content="The distance metrics list object (inherits classes dist_fns_list
and list) is a list that stores R functions which can convert a data
frame of features into a matrix of pairwise distances. The list is a nested
one, where the first layer of the list can hold up to 5 items (one for each
of the metasnf recognized feature types, continuous, discrete, ordinal,
categorical, and mixed), and the second layer can hold an arbitrary number
of distance functions for each of those types."><meta name="google-site-verification" content="Xzz1SIDqvPwru_mXKCXAkX2pNfOz5PO_QO02QG98tZI"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metasnf</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/a_simple_example.html">A Simple Example</a></li>
    <li><a class="dropdown-item" href="../articles/a_complete_example.html">A Complete Example</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BRANCHlab/metasnf/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Build a distance metrics list</h1>
      <small class="dont-index">Source: <a href="https://github.com/BRANCHlab/metasnf/blob/main/R/dist_fns_list.R" class="external-link"><code>R/dist_fns_list.R</code></a></small>
      <div class="d-none name"><code>dist_fns_list.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The distance metrics list object (inherits classes <code>dist_fns_list</code>
and <code>list</code>) is a list that stores R functions which can convert a data
frame of features into a matrix of pairwise distances. The list is a nested
one, where the first layer of the list can hold up to 5 items (one for each
of the <code>metasnf</code> recognized feature types, continuous, discrete, ordinal,
categorical, and mixed), and the second layer can hold an arbitrary number
of distance functions for each of those types.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dist_fns_list</span><span class="op">(</span></span>
<span>  cnt_dist_fns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dsc_dist_fns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ord_dist_fns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cat_dist_fns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mix_dist_fns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  automatic_standard_normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_default_dist_fns <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cnt-dist-fns">cnt_dist_fns<a class="anchor" aria-label="anchor" href="#arg-cnt-dist-fns"></a></dt>
<dd><p>A named list of continuous distance metric functions.</p></dd>


<dt id="arg-dsc-dist-fns">dsc_dist_fns<a class="anchor" aria-label="anchor" href="#arg-dsc-dist-fns"></a></dt>
<dd><p>A named list of discrete distance metric functions.</p></dd>


<dt id="arg-ord-dist-fns">ord_dist_fns<a class="anchor" aria-label="anchor" href="#arg-ord-dist-fns"></a></dt>
<dd><p>A named list of ordinal distance metric functions.</p></dd>


<dt id="arg-cat-dist-fns">cat_dist_fns<a class="anchor" aria-label="anchor" href="#arg-cat-dist-fns"></a></dt>
<dd><p>A named list of categorical distance metric functions.</p></dd>


<dt id="arg-mix-dist-fns">mix_dist_fns<a class="anchor" aria-label="anchor" href="#arg-mix-dist-fns"></a></dt>
<dd><p>A named list of mixed distance metric functions.</p></dd>


<dt id="arg-automatic-standard-normalize">automatic_standard_normalize<a class="anchor" aria-label="anchor" href="#arg-automatic-standard-normalize"></a></dt>
<dd><p>If TRUE, will automatically use
standard normalization prior to calculation of any numeric distances. This
parameter overrides all other distance functions list-related parameters.</p></dd>


<dt id="arg-use-default-dist-fns">use_default_dist_fns<a class="anchor" aria-label="anchor" href="#arg-use-default-dist-fns"></a></dt>
<dd><p>If TRUE, prepend the base distance metrics
(euclidean distance for continuous, discrete, and ordinal data and gower
distance for categorical and mixed data) to the resulting distance metrics
list.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A distance metrics list object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Call ?distance_metrics to see all distance metric functions provided in
metasnf.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Using just the base distance metrics  ------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">dist_fns_list</span> <span class="op">&lt;-</span> <span class="fu">dist_fns_list</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> No distance functions specified. Using defaults.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adding your own metrics --------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># This will contain only the and user-provided distance function:</span></span></span>
<span class="r-in"><span><span class="va">cubed_euclidean</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span>, <span class="va">weights_row</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># (your code that converts a data frame to a distance metric here...)</span></span></span>
<span class="r-in"><span>    <span class="va">weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">weights_row</span>, nrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">weights_row</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">weighted_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">weights</span></span></span>
<span class="r-in"><span>    <span class="va">distance_matrix</span> <span class="op">&lt;-</span> <span class="va">weighted_df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>        <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"euclidean"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">distance_matrix</span> <span class="op">&lt;-</span> <span class="va">distance_matrix</span><span class="op">^</span><span class="fl">3</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">distance_matrix</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dist_fns_list</span> <span class="op">&lt;-</span> <span class="fu">dist_fns_list</span><span class="op">(</span></span></span>
<span class="r-in"><span>    cnt_dist_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="st">"my_cubed_euclidean"</span> <span class="op">=</span> <span class="va">cubed_euclidean</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using default base metrics------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Call ?distance_metrics to see all distance metric functions provided in</span></span></span>
<span class="r-in"><span><span class="co"># metasnf. The code below will contain a mix of user-provided and built-in</span></span></span>
<span class="r-in"><span><span class="co"># distance metric functions.</span></span></span>
<span class="r-in"><span><span class="va">dist_fns_list</span> <span class="op">&lt;-</span> <span class="fu">dist_fns_list</span><span class="op">(</span></span></span>
<span class="r-in"><span>    cnt_dist_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="st">"my_distance_metric"</span> <span class="op">=</span> <span class="va">cubed_euclidean</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    dsc_dist_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="st">"my_distance_metric"</span> <span class="op">=</span> <span class="va">cubed_euclidean</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    ord_dist_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="st">"my_distance_metric"</span> <span class="op">=</span> <span class="va">cubed_euclidean</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    cat_dist_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="st">"my_distance_metric"</span> <span class="op">=</span> <span class="va">gower_distance</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    mix_dist_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="st">"my_distance_metric"</span> <span class="op">=</span> <span class="va">gower_distance</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    use_default_dist_fns <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Prashanth S Velayudhan, Xiaoqiao Xu, Prajkta Kallurkar, Ana Patricia Balbon, Maria T Secara, Adam Taback, Denise Sabac, Nicholas Chan, Shihao Ma, Bo Wang, Daniel Felsky, Stephanie H Ameis, Brian Cox, Colin Hawco, Lauren Erdman, Anne L Wheeler.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

